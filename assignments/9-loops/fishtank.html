<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>USC242 HomePage</title>

    <!-- Top menu bar -->
    <link rel="stylesheet" href="./css/site.css">
    <!-- Inner flex layout -->
    <link rel="stylesheet" href="./css/layout.css">
    <link rel="stylesheet" href="./css/fishtank.css">
    <script src="./js/fishtank.js"></script>
<style>
   
  </style>
</head>
<body>
    <div class="topnav">
    <div class="dropdown">
        <button class="dropbtn">Menu ▼</button>
        <div class="dropdown-content">
            <a href="../../index.html">Home</a>
            <a href="../../242index.html">242 Home</a>
            <a href="../../about.html">AboutMe</a>
            <a href="../../interests.html">MyInterests</a>
            <a href="../../usc.html">USC</a>
            <a href="../../portfoliopage.html">Portfolio</a>
            <a href="../../vitae.html">Vitae</a>
        </div>
    </div>

    <div class="right-links">
        <a href="../../login.html">Login</a>
        <a href="../../logout.html">Logout</a>
    </div>
</div>

<!-- EVERYTHING BELOW THIS POINT IS CONTROLLED BY layout.css -->

<header>
    <h1>Assignment9</h1>
    <p>Introduction To Javascript</p>
</header>

</head>
<body>

<section class="assign7">
  <br><br>

  <div class="row">
    <!-- Tank 1 -->
    <div class="column" style="background-color:#aaa;" onclick="callupdategeometry();">
      <h2>Tank 1</h2>
      <div class="tank-wrapper">
        <img id="tank1" src="./images/fishtank.jpeg" alt="Tank 1">
        <!-- Bubbles will be added here via JS -->
      </div>
    </div>

    <!-- Tank 2 -->
    <div class="column" style="background-color:#bbb;">
      <h2>Tank 2</h2>
      <div class="tank-wrapper">
        <img id="tank2" src="./images/fishtank.jpeg" alt="Tank 2">
      </div>
    </div>

    <!-- Tank 3 -->
    <div class="column" style="background-color:#ccc;" onclick="callimageframer();">
      <h2>Tank 3</h2>
      <div class="tank-wrapper">
        <img id="tank3" src="./images/fishtank.jpeg" alt="Tank 3">
      </div>
    </div>
  </div>
</section>

<script>
// Colors per tank
const bubbleColors = {
  1: { bg: 'rgba(255, 182, 193, 0.55)', glow: 'rgba(255, 105, 180, 0.7)' },    // pink
  2: { bg: 'rgba(144, 238, 144, 0.55)', glow: 'rgba(50, 205, 50, 0.6)'   },    // light green
  3: { bg: 'rgba(173, 216, 230, 0.55)', glow: 'rgba(100, 149, 237, 0.7)' }     // light blue
};

function addBubblesToTank(tankElement, bubbleCount = 12) {
  const tankNumber = tankElement.dataset.tank;
  const colors = bubbleColors[tankNumber] || { bg: 'rgba(255,255,255,0.4)', glow: 'rgba(255,255,255,0.5)' };

  for (let i = 0; i < bubbleCount; i++) {
    const bubble = document.createElement('div');
    bubble.classList.add('bubble');

    const size = Math.random() * 20 + 8;           // 8–28px
    // Constrain horizontally: 10px from left + 10px from right
    const left = 10 + Math.random() * (100 - 20);  // 10% to 90%
    const duration = Math.random() * 8 + 7;        // 7–15 seconds
    const delay = Math.random() * 5;

    bubble.style.width = `${size}px`;
    bubble.style.height = `${size}px`;
    bubble.style.left = `${left}%`;
    bubble.style.bottom = '-10px';                 // start 10px above bottom (partially visible)
    bubble.style.background = colors.bg;
    bubble.style.boxShadow = `0 0 12px ${colors.glow}, inset 0 2px 6px rgba(255,255,255,0.4)`;
    bubble.style.animationDuration = `${duration}s`;
    bubble.style.animationDelay = `${delay}s`;

    tankElement.appendChild(bubble);

    // Respawn one bubble when it disappears (keeps constant gentle movement)
    bubble.addEventListener('animationend', () => {
      bubble.remove();
      addBubblesToTank(tankElement, 1);
    });
  }
}

// Start bubbles on page load
document.addEventListener('DOMContentLoaded', () => {
  const tanks = document.querySelectorAll('.tank-wrapper');
  tanks.forEach(tank => {
    addBubblesToTank(tank, 12);
  });
});
</script>

</body>
</html>
