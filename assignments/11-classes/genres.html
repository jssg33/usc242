<!DOCTYPE html>
<html>
<head>
    <title>Browse Music by Genre</title>

    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="./css/a9styles.css"> 
    <link rel="stylesheet" href="./css/a10styles.css"> 
    <link rel="stylesheet" href="./css/a11styles.css">
    <script src="./js/a11.js" defer></script>

    <style>
        body { font-family: "Roboto", sans-serif; }
        .song-card { width: 250px; margin: 15px; cursor: pointer; }
        .song-cover { width: 100%; height: 250px; object-fit: cover; }
        .genre-title { font-size: 28px; font-weight: bold; margin-left: 20px; margin-top: 40px; }
        .genre-row { display: flex; flex-wrap: wrap; margin-left: 20px; }
    </style>
</head>

<body class="w3-light-grey">

    <!-- NAV BAR -->
    <div class="w3-bar w3-blue">
        <a href="index.html" class="w3-bar-item w3-button">Home</a>
        <a href="genres.html" class="w3-bar-item w3-button w3-white">Browse by Genre</a>
    </div>

    <header class="w3-container w3-blue w3-center">
        <h1>Browse by Genre</h1>
    </header>

    <div id="gallery" class="w3-padding"></div>

    <script>
        /*class Song {
            constructor(title, artist, album, year, genre, cover, youtube) {
                this.title = title;
                this.artist = artist;
                this.album = album;
                this.year = year;
                this.genre = genre;
                this.cover = cover;
                this.youtube = youtube;
            }

            getCard() {
                return `
                    <div class="w3-card w3-white song-card">
                        <img src="images/${this.cover}" class="song-cover">
                        <div class="w3-container">
                            <p><b>${this.title}</b></p>
                            <p>${this.artist}</p>
                        </div>
                    </div>
                `;
            }
        }

        let songs = [];

        async function loadJSON() {
            const response = await fetch("hardrocksongs.json");
            const data = await response.json();

            data.forEach(s => songs.push(new Song(
                s.title, s.artist, s.album, s.year, s.genre, s.cover, s.youtube
            )));

            loadGallery();
        }

        function loadGallery() {
            let gallery = document.getElementById("gallery");
            gallery.innerHTML = "";

            let genres = {};

            songs.forEach(song => {
                if (!genres[song.genre]) genres[song.genre] = [];
                genres[song.genre].push(song);
            });

            for (let genre in genres) {
                gallery.innerHTML += `<div class="genre-title">${genre}</div>`;
                gallery.innerHTML += `<div class="genre-row" id="row-${genre.replace(/\s+/g,'')}"></div>`;

                let row = document.getElementById(`row-${genre.replace(/\s+/g,'')}`);

                genres[genre].forEach(song => {
                    row.innerHTML += song.getCard();
                });
            }
        }

        loadJSON();*/
    </script>

</body>
</html>
